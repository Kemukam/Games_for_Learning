<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tooth Matching Game</title>
<style>
body.light { background: #f8f8f8; color: #000; text-align: center; }
body.dark { background: #1e1e1e; color: #fff; text-align: center; }

h1 { font-family: 'Brush Script MT', cursive; font-size: 28px; margin: 20px 0; text-align: center; }

#round-counter { display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; }
.circle { width: 25px; height: 25px; border: 2px solid #333; border-radius: 50%; background: white; }
.filled-blue { background: #1E90FF; }

#game-container { display: flex; justify-content: center; flex-wrap: wrap; gap: 20px; }
#text-box { font-family: 'Comic Sans MS', sans-serif; font-weight: bold; font-size: 20px; padding: 20px; border-radius: 10px; border: 2px solid #333; background: white; min-width: 250px; }
#cards-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; }

.card {
  font-family: 'Comic Sans MS', sans-serif;
  font-weight: bold;
  font-size: 18px;
  color: white;
  width: 80px; height: 60px; line-height: 60px;
  border-radius: 10px;
  text-align: center;
  cursor: pointer;
  user-select: none;
  transition: transform 0.2s, background 0.3s;
}
.color-pink { background: #FF69B4; }
.color-purple { background: #9370DB; }
.color-blue { background: #1E90FF; }
.color-orange { background: #FFA500; }

.correct-bounce { animation: bounce 0.4s ease; }
@keyframes bounce { 0%{transform:scale(1);}25%{transform:scale(1.2);}50%{transform:scale(0.95);}75%{transform:scale(1.05);}100%{transform:scale(1);} }

#round-message { font-size: 32px; font-weight: bold; margin-top: 20px; color: gold; display: none; }
#play-again { display: none; padding: 10px 20px; font-size: 18px; border-radius: 8px; border: none; background: #1E90FF; color: white; margin-top: 20px; }
#play-again:active { transform: scale(0.95); }

#directions { font-family: 'Comic Sans MS', sans-serif; font-size: 16px; margin-top: 30px; }
#mode-toggle { padding: 6px 12px; border-radius: 6px; border: none; background: #1E90FF; color: white; cursor: pointer; margin-top: 20px; }
#mode-toggle:active { transform: scale(0.95); }
</style>
</head>
<body class="light">

<h1>Tooth Matching Game</h1>

<div id="round-counter">
  <div class="circle" id="round1"></div>
  <div class="circle" id="round2"></div>
  <div class="circle" id="round3"></div>
</div>

<div id="game-container">
  <div id="text-box"></div>
  <div id="cards-container"></div>
</div>

<div id="round-message"></div>
<button id="play-again">Play Again</button>
<div id="directions">Directions: Tap to match the tooth to its number</div>
<button id="mode-toggle">Toggle Dark/Light</button>

<script>
const allTeeth = [
["1","U.R. Wisdom Tooth (3rd Molar)"],["2","U.R. 2nd Molar"],
["3","U.R. 1st Molar"],["4","U.R. 2nd Premolar"],
["5","U.R. 1st. Premolar"],["6","U.R. Canine (Cuspid)"],
["7","U.R. Lateral Incisor"],["8","U.R. Central Incisor"],
["9","U.L. Central Incisor"],["10","U.L. Lateral Incisor"],
["11","U.L.Canine (Cuspid)"],["12","U.L. 1st Premolar"],
["13","U.L. 2nd Premolar"],["14","U.L. 1st. Molar"],
["15","U.L. 2nd Molar"],["16","U.L. Wisdom Tooth (3rd Molar)"],
["17","L.L. Wisdom Tooth (3rd Molar)"],["18","L.L. 2nd Molar"],
["19","L.L. 1st Molar"],["20","L.L. 2nd Premolar"],
["21","L.L. 1st. Premolar"],["22","L.L. Canine (Cuspid)"],
["23","L.L. Lateral Incisor"],["24","L.L. Central Incisor"],
["25","L.R. Central Incisor"],["26","L.R. Lateral Incisor"],
["27","L.R. Canine (Cuspid)"],["28","L.R. 1st. Premolar"],
["29","L.R. 2nd Premolar"],["30","L.R. 1st Molar"],
["31","L.R. 2nd Molar"],["32","L.R. Wisdom Tooth (3rd Molar)"]
];

let lastRoundTeeth=[], currentSet=[], round=0, matchedCount=0;

function getRandomTeethSet(){
  let availableTeeth=allTeeth.filter(t=>!lastRoundTeeth.includes(t[0]));
  if(availableTeeth.length<8) availableTeeth=allTeeth;
  const shuffled=[...availableTeeth].sort(()=>0.5-Math.random());
  const selected=shuffled.slice(0,8);
  lastRoundTeeth=selected.map(t=>t[0]);
  return selected;
}

function startGame(){
  round=0;
  updateRounds();
  document.getElementById('round-message').style.display='none';
  startRound();
}

function startRound(){
  matchedCount=0;
  const textBox=document.getElementById('text-box');
  const cardsContainer=document.getElementById('cards-container');
  currentSet=getRandomTeethSet();

  textBox.textContent=currentSet[matchedCount][1];

  cardsContainer.innerHTML='';
  const colors=['color-pink','color-purple','color-blue','color-orange'];
  const shuffledNumbers=[...currentSet].sort(()=>0.5-Math.random());
  shuffledNumbers.forEach((t,index)=>{
    const div=document.createElement('div');
    div.className='card '+colors[index%4];
    div.textContent=t[0];
    div.dataset.match=t[0];
    div.addEventListener('click', ()=>checkAnswer(div));
    cardsContainer.appendChild(div);
  });
}

function checkAnswer(card){
  const correct = card.dataset.match===currentSet[matchedCount][0];
  if(correct){
    card.classList.add('correct-bounce');
    setTimeout(()=>card.classList.remove('correct-bounce'),400);
    card.style.background='#7CFC00';
    matchedCount++;
    if(matchedCount<currentSet.length){
      document.getElementById('text-box').textContent=currentSet[matchedCount][1];
    } else {
      round++;
      updateRounds();
      showRoundMessage(round);
      if(round<3){
        setTimeout(()=>startRound(),800);
      } else {
        setTimeout(()=>document.getElementById('play-again').style.display='inline-block',1500);
      }
    }
  } else {
    card.style.background='#FF0000';
    setTimeout(()=>{ 
      const colors=['#FF69B4','#9370DB','#1E90FF','#FFA500'];
      card.style.background=colors[Math.floor(Math.random()*4)];
    },500);
  }
}

function updateRounds(){
  for(let i=1;i<=3;i++){
    const circle=document.getElementById('round'+i);
    if(i<=round) circle.className='circle filled-blue';
    else circle.className='circle';
  }
}

function showRoundMessage(r){
  const msg=document.getElementById('round-message');
  if(r===1) msg.textContent='Great!';
  else if(r===2) msg.textContent='Nice!';
  else if(r===3) msg.textContent="You're Awesome!";
  msg.style.display='block';
  setTimeout(()=>msg.style.display='none',2000);
}

document.getElementById('play-again').addEventListener('click', ()=>{
  document.getElementById('play-again').style.display='none';
  startGame();
});

document.getElementById('mode-toggle').addEventListener('click', ()=>{
  document.body.classList.toggle('dark');
  document.body.classList.toggle('light');
});

startGame();
</script>

</body>
</html>
